<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Pokedex</h1>
    <form >
        <label for="lname">Search pokemon :</label>
        <input type="text" id="poke" name="lname"><br><br>
        <input type="submit" id="submitValue" value="Submit"><br>
        <br>

        
    </form>
    <p>Name :</p>
    <p id="pname">PLACEHOLDER</p><br><br>
    <img id="pImg"src="" alt="POKEMON IMAGE" width="500" height="600">
    <script>
        window.onload = function() {
            
            const link = `https://pokeapi.co/api/v2/pokemon/1`
            fetch(link).then((data)=> console.log(data))
        const submitButton = document.getElementById("submitValue")
        submitButton.addEventListener('click',function(){
            event.preventDefault();
            console.log("button clicked");
            localStorage.setItem('pokiname', 'testing-name')
            window.location.href = "test.html"

            const pokemoName = document.getElementById("poke");

            const nameValue = pokemoName.value

            // Specify the API endpoint for user data
            const apiUrl = `https://pokeapi.co/api/v2/pokemon/${nameValue.toLowerCase()}`

            // Make a GET request using the Fetch API
            fetch(apiUrl)
            .then(response => {
                if (!response.ok) {
                throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .then(userData => {
                // Process the retrieved user data
                console.log('User Data:', userData);
                document.getElementById("pname").innerHTML = userData.moves[0].move.name          
                document.getElementById("pImg").src = userData.sprites.front_default
            })
            .catch(error => {
                console.error('Error:', error);
            });


        })}
    </script>


</body>
</html>
